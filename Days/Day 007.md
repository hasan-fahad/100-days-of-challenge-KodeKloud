# Day 007: Linux SSH Automation

This guide explains setting up password-less SSH access for automated scripts across app servers.

---

## ğŸ¯ Objective

Enable the `thor` user on the jump host to perform password-less SSH authentication to all app servers through their respective sudo users.

---

## ğŸ”§ Steps

### 1. Generate SSH Key on Jump Host

```bash
ssh-keygen -t rsa -b 2048
```

* Generates `id_rsa` (private) and `id_rsa.pub` (public) keys.
* The public key will be shared with app servers.

### 2. Deploy Public Key to App Servers

Login to each app server:

```bash
mkdir -p ~/.ssh
vi ~/.ssh/authorized_keys
```

* Paste the public key from the jump host.
* Ensure correct ownership and permissions.

### 3. Optimized Automated Solution

```bash
#!/bin/sh
ssh-copy-id user@host
```

* Creates `.ssh` directory if not present.
* Copies the public key to `authorized_keys` automatically.

---

## âš™ï¸ Good to Know: SSH Key Authentication

### Key Types

* RSA (2048+ bits)
* Ed25519 (modern, faster)
* ECDSA

### Components

* Private key: Keep secret
* Public key: Share freely

### File Locations

* `~/.ssh/id_rsa` â†’ private
* `~/.ssh/id_rsa.pub` â†’ public

### Key Permissions

* `.ssh/` â†’ 700
* Private key â†’ 600
* Public key â†’ 644

### Benefits of Automation

* Password-less login
* Supports scripting and automated deployments
* Stronger security than password authentication
* Traceable for auditing

### Best Practices

* Use passphrase for private keys
* Use `ssh-agent` for caching passphrases
* Rotate keys regularly
* Monitor key usage

---

![Screenshot](attachment:79ed3a2c-57f6-4afc-b6a9-6f523d567ae3\:Screenshot_2025-12-10_at_11.51.58_AM.png)
